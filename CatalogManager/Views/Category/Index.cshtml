@model CatalogManager.Models.Category
@{
    ViewBag.Title = "Catalog";
    ViewBag.PageType = "Category";
    ViewBag.ParentCategoryName = Model.Name;
}


<div class="jumbotron">
    <h1>Category: @Model.Name</h1>
    @Html.Hidden("PreviousUrl", (object)ViewBag.PreviousUrl.ToString())
    @Html.Hidden("ParentCategoryName", @Model.Name, new { @Name = "ParentCategoryName" })
    
</div>

<div class="row">
    <div class="col-md-8 details">
        <div class="row">
            @if (Model.Products != null)
            {

                foreach (string product in Model.Products)
                {
                    @Html.Partial("_ProductPartial", Model.AllProducts[product])
                }

                <div class="col-md-4 product">
                    @Html.ActionLink("Add Product", "Create", "Product", new { @ParentCategoryName = Model.Name }, null)
                    
                </div>
            }


        </div>
        <div class="row subcategories">
            @if (Model.SubCategories != null)
            {

                foreach (string subCategory in Model.SubCategories)
                {
                    @Html.Partial("_CategoryPartial", Model.AllCategories[subCategory], ViewData)
                }                
                <div class="row subcategory">
                    @Html.ActionLink("Add SubCategory", "Create", "Category", new { @ParentCategoryName = Model.Name }, null)
                </div>
            }


        </div>
    </div>

</div>